(this["webpackJsonppixel-painter"]=this["webpackJsonppixel-painter"]||[]).push([[0],{21:function(e,t,o){e.exports=o(41)},26:function(e,t,o){},41:function(e,t,o){"use strict";o.r(t);var r=o(0),n=o.n(r),i=o(9),l=(o(26),o(4)),a=o(5),c=o(2),s=o(7),p=o(6),u=o(3),d=o(43);function h(e){return{type:"ADD_PIXEL",id:Object(d.a)(),color:e.color,index:e.index}}function b(e){return{type:"DELETE_PIXEL",index:e&&e.index?e.index:null}}function f(e){return{type:"UPDATE_PIXEL",id:e.id,color:e.color}}function x(e){return{type:"UPDATE_EDITOR_COLOR",color:e}}var m=function(e){Object(s.a)(o,e);var t=Object(p.a)(o);function o(){var e;return Object(l.a)(this,o),(e=t.call(this)).handleColumnChange=e.handleColumnChange.bind(Object(c.a)(e)),e.handleRowChange=e.handleRowChange.bind(Object(c.a)(e)),e.handlePixelSizeChange=e.handlePixelSizeChange.bind(Object(c.a)(e)),e.handleHidePixelGrid=e.handleHidePixelGrid.bind(Object(c.a)(e)),e.handleColorChange=e.handleColorChange.bind(Object(c.a)(e)),e}return Object(a.a)(o,[{key:"handleColumnChange",value:function(e){var t=e.target.value,o=t-this.props.columns;if(this.props.pixelSize*t+this.props.canvasBorderSize>=document.body.clientWidth)return!1;if(this.props.dispatch({type:"UPDATE_COLUMNS",columns:t}),o>0)for(var r=1;r<=o*this.props.rows;r++){var n=r*this.props.columns+r-1;this.props.dispatch(h({index:n,color:this.props.defaultPixelColor}))}else if(o<0)for(var i=0;i<-o*this.props.rows;i++)this.props.dispatch(b({index:i*this.props.columns-i}))}},{key:"handleRowChange",value:function(e){var t=e.target.value,o=t-this.props.rows;if(this.props.dispatch({type:"UPDATE_ROWS",rows:t}),o>0)for(var r=0;r<o*this.props.columns;r++)this.props.dispatch(h({color:this.props.defaultPixelColor}));else if(o<0)for(var n=0;n>o*this.props.columns;n--)this.props.dispatch(b())}},{key:"handlePixelSizeChange",value:function(e){var t=e.target.value;if(t*this.props.columns+this.props.canvasBorderSize>=document.body.clientWidth)return!1;this.props.dispatch({type:"UPDATE_PIXEL_SIZE",pixelSize:t})}},{key:"handleHidePixelGrid",value:function(e){this.props.dispatch({type:"HIDE_PIXEL_GRID",hide:e.target.checked})}},{key:"handleColorChange",value:function(e){this.props.dispatch(x(e.target.value))}},{key:"render",value:function(){return n.a.createElement("div",{className:"toolbar"},n.a.createElement("div",{className:"toolbar-option"},n.a.createElement("label",null,"Canvas:"),n.a.createElement("input",{type:"number",value:this.props.columns,onChange:this.handleColumnChange,onKeyDown:function(e){return e.preventDefault()},max:"50",min:"2"}),"x",n.a.createElement("input",{type:"number",value:this.props.rows,onChange:this.handleRowChange,onKeyDown:function(e){return e.preventDefault()},max:"50",min:"2"})),n.a.createElement("div",{className:"toolbar-option"},n.a.createElement("label",{htmlFor:"color-picker"},"Color:"),n.a.createElement("input",{id:"color-picker",type:"color",value:this.props.editorColor,onChange:this.handleColorChange})),n.a.createElement("div",{className:"toolbar-option"},n.a.createElement("label",{htmlFor:"hide-pixel-grid"},"Hide pixel grid:"),n.a.createElement("input",{id:"hide-pixel-grid",type:"checkbox",checked:this.props.hidePixelGrid,onChange:this.handleHidePixelGrid})),n.a.createElement("div",{className:"toolbar-option"},n.a.createElement("label",null,"Zoom:"),n.a.createElement("input",{type:"range",value:this.props.pixelSize,onChange:this.handlePixelSizeChange,min:"1",max:"35"})))}}]),o}(n.a.Component),O=Object(u.b)((function(e){return{pixelSize:e.pixelSize,rows:e.rows,columns:e.columns,pixels:e.pixels,hidePixelGrid:e.hidePixelGrid,editorColor:e.editorColor,defaultPixelColor:e.defaultPixelColor,canvasBorderSize:e.canvasBorderSize}}))(m),v=function(e){Object(s.a)(o,e);var t=Object(p.a)(o);function o(){var e;return Object(l.a)(this,o),(e=t.call(this)).handlePixelClick=e.handlePixelClick.bind(Object(c.a)(e)),e}return Object(a.a)(o,[{key:"pixelStyle",value:function(){var e={width:this.props.pixelSize+"px",height:this.props.pixelSize+"px",background:this.props.color};return this.props.hidePixelGrid&&(e.borderRight=0,e.borderBottom=0),e}},{key:"handlePixelClick",value:function(e,t,o){return e.preventDefault(),1===e.buttons?(this.props.dispatch(f({id:t,color:this.props.editorColor})),this.props.dispatch(function(e){return{type:"ADD_PALETTE_COLOR",id:Object(d.a)(),color:e}}(this.props.editorColor))):2===e.buttons&&(this.props.dispatch(f({id:t,color:this.props.defaultPixelColor})),this.props.dispatch(function(e){return{type:"REMOVE_PALETTE_COLOR",color:e}}(o))),!1}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"pixel",style:this.pixelStyle(),onMouseDown:function(t){return e.handlePixelClick(t,e.props.id,e.props.color)},onMouseOver:function(t){return e.handlePixelClick(t,e.props.id,e.props.color)},onContextMenu:function(e){return e.preventDefault()}})}}]),o}(n.a.Component),C=Object(u.b)((function(e){return{pixelSize:e.pixelSize,hidePixelGrid:e.hidePixelGrid,editorColor:e.editorColor,defaultPixelColor:e.defaultPixelColor}}))(v),E=function(e){Object(s.a)(o,e);var t=Object(p.a)(o);function o(){return Object(l.a)(this,o),t.apply(this,arguments)}return Object(a.a)(o,[{key:"componentDidMount",value:function(){if(0===this.props.pixels.length)for(var e=0;e<this.props.columns*this.props.rows;e++)this.props.dispatch(h({color:this.props.defaultPixelColor}))}},{key:"canvasStyle",value:function(){return{maxWidth:this.props.pixelSize*this.props.columns+this.props.canvasBorderSize+"px"}}},{key:"render",value:function(){return n.a.createElement("div",{className:"pixels",style:this.canvasStyle()},this.props.pixels.map((function(e){return n.a.createElement(C,{key:e.id,id:e.id,color:e.color})})))}}]),o}(n.a.Component),j=Object(u.b)((function(e){return{rows:e.rows,columns:e.columns,pixelSize:e.pixelSize,pixels:e.pixels,defaultPixelColor:e.defaultPixelColor,canvasBorderSize:e.canvasBorderSize}}))(E),P=function(e){Object(s.a)(o,e);var t=Object(p.a)(o);function o(){var e;return Object(l.a)(this,o),(e=t.call(this)).handleColorClick=e.handleColorClick.bind(Object(c.a)(e)),e}return Object(a.a)(o,[{key:"handleColorClick",value:function(e,t){e.preventDefault(),this.props.dispatch(x(t))}},{key:"colorStyle",value:function(e){return{background:e}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"color",style:this.colorStyle(this.props.color),onMouseDown:function(t){return e.handleColorClick(t,e.props.color)}})}}]),o}(n.a.Component),y=Object(u.b)((function(e){return{colorPalette:e.colorPalette}}))(P),g=function(e){Object(s.a)(o,e);var t=Object(p.a)(o);function o(){return Object(l.a)(this,o),t.apply(this,arguments)}return Object(a.a)(o,[{key:"render",value:function(){return this.props.colorPalette.length>0?n.a.createElement("div",{className:"color-palette"},n.a.createElement("h4",null,"Color Palette"),n.a.createElement("div",{className:"colors"},this.props.colorPalette.map((function(e){return n.a.createElement(y,{key:e.id,color:e.color})})))):null}}]),o}(n.a.Component),k=Object(u.b)((function(e){return{colorPalette:e.colorPalette}}))(g),S=function(e){Object(s.a)(o,e);var t=Object(p.a)(o);function o(){var e;return Object(l.a)(this,o),(e=t.call(this)).handleExportClick=e.handleExportClick.bind(Object(c.a)(e)),e.handleNewClick=e.handleNewClick.bind(Object(c.a)(e)),e}return Object(a.a)(o,[{key:"handleExportClick",value:function(e){console.log(123)}},{key:"handleNewClick",value:function(){this.props.dispatch({type:"CLEAR_CANVAS"})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"controls"},n.a.createElement("button",{className:"control-button",onMouseDown:function(t){return e.handleExportClick()}},"Export"),n.a.createElement("button",{className:"control-button",onMouseDown:function(t){return e.handleNewClick()}},"New"))}}]),o}(n.a.Component),D=Object(u.b)()(S);var w=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("h2",null,"Pixel Painter"),n.a.createElement(O,null),n.a.createElement(j,null),n.a.createElement(k,null),n.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=o(10),z=o(8),L=o(1),A={pixelSize:16,columns:24,rows:24,pixels:[],hidePixelGrid:!1,editorColor:"#11b6df",defaultPixelColor:"transparent",colorPalette:[],canvasBorderSize:2};var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;if("UPDATE_PIXEL_SIZE"===t.type)return Object(L.a)(Object(L.a)({},e),{},{pixelSize:t.pixelSize});if("UPDATE_COLUMNS"===t.type)return Object(L.a)(Object(L.a)({},e),{},{columns:t.columns});if("UPDATE_ROWS"===t.type)return Object(L.a)(Object(L.a)({},e),{},{rows:t.rows});if("ADD_PIXEL"===t.type)return null!=t.index?Object(L.a)(Object(L.a)({},e),{},{pixels:[].concat(Object(z.a)(e.pixels.slice(0,t.index)),[{id:t.id,color:t.color}],Object(z.a)(e.pixels.slice(t.index)))}):Object(L.a)(Object(L.a)({},e),{},{pixels:[].concat(Object(z.a)(e.pixels),[{id:t.id,color:t.color}])});if("DELETE_PIXEL"===t.type)return null!=t.index?Object(L.a)(Object(L.a)({},e),{},{pixels:[].concat(Object(z.a)(e.pixels.slice(0,t.index)),Object(z.a)(e.pixels.slice(t.index+1)))}):Object(L.a)(Object(L.a)({},e),{},{pixels:e.pixels.slice(0,-1)});if("UPDATE_PIXEL"===t.type)return Object(L.a)(Object(L.a)({},e),{},{pixels:e.pixels.map((function(e){return e.id===t.id?Object(L.a)(Object(L.a)({},e),{},{color:t.color}):e}))});if("HIDE_PIXEL_GRID"===t.type)return Object(L.a)(Object(L.a)({},e),{},{hidePixelGrid:t.hide});if("UPDATE_EDITOR_COLOR"===t.type)return Object(L.a)(Object(L.a)({},e),{},{editorColor:t.color});if("ADD_PALETTE_COLOR"===t.type){var o=e.colorPalette.some((function(e){return e.color===t.color}));if(!o)return Object(L.a)(Object(L.a)({},e),{},{colorPalette:[].concat(Object(z.a)(e.colorPalette),[{id:t.id,color:t.color}])})}if("REMOVE_PALETTE_COLOR"===t.type){var r=e.pixels.filter((function(e){return e.color===t.color}));if(0===r.length)return Object(L.a)(Object(L.a)({},e),{},{colorPalette:e.colorPalette.filter((function(e){return e.color!==t.color}))})}return"CLEAR_CANVAS"===t.type?Object(L.a)(Object(L.a)({},e),{},{pixels:e.pixels.map((function(t){var o=t;return o.color=e.defaultPixelColor,o})),colorPalette:[]}):e},T=o(20),I=o.n(T),R=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),G=Object(_.b)(N,R);G.subscribe(I()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(o){console.log("Error saving state: "+o)}}(G.getState())})),1e3);var U=G;Object(i.render)(n.a.createElement(u.a,{store:U},n.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.9632918a.chunk.js.map